---
# keycloak host
keycloak_host: 192.168.98.112

# keycloak base directory
keycloak_base_dir: "{{ansible_env.HOME}}"

# install java if is not installed in system, default will be true
keycloak_install_java: true

# install postgres database
keycloak_db_type: postgres

# NGINX configuration
# # list of configuration files
install_nginx_server: true
nginx_configuration_files:
  - ['keycloak-vhost.conf.j2', 'keycloak-vhost.conf']

# keycloak version 
keycloak_version: 21.1.1
keycloak_group_name: keycloak
# folder name
keycloak_folder_name: "keycloak-{{keycloak_version}}"
# location in server
keycloak_location: "/opt"
keycloak_url: "https://github.com/keycloak/keycloak/releases/download/{{keycloak_version | default('21.1.1',true)}}/keycloak-{{keycloak_version | default('21.1.1',true)}}.zip"


keycloak_postgres_tmp_root_password: xxx
keycloak_log_enable: true
keycloak_log_handlers: "console,file"
keycloak_log_format: '%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n'
keycloak_initial_admin:
  username: admin
  password: ch@ngEme
keycloak_credential_file:
  certificate_file: cert.pem
  key_file: key.pem

keycloak_db:
  name: keycloak
  user: keycloak
  password: keycloak
keycloak_postgresql_port: 5432
keycloak_backup_process_state: absent
keycloak_backup_db_user: keycloakbackup
keycloak_backup_db_password: changeme
keycloak_backup_schedule_hour: 2
keycloak_backup_path: '{{ base_dir }}/backup'


# keycloak_protocol: http
keycloak_health_enabled: true
keycloak_metrics_enabled: true
keycloak_http_port: 8008
keycloak_http_relative_path: keycloak
keycloak_feature_enabled: "docker,token-exchange,preview,admin2,admin-api"
keycloak_feature_disabled: "impersonation"


